# Tree of Thoughts 방법론

## 개요

Tree of Thoughts (ToT)는 단일 문제에 대해 여러 해결 방법을 체계적으로 탐색하고 평가하여 최적의 선택을 하는 의사결정 프레임워크입니다.

## 4단계 프로세스

### 1단계: Thought Generation (사고 생성)

**목적**: 문제에 대한 다양한 해결 방법 도출

**방법**:
- **Divergent Thinking**: 가능한 한 다양한 관점에서 접근
- **복잡도 스펙트럼**: 단순한 방법부터 복잡한 방법까지 포함
- **현실성 검증**: 모든 후보는 실제 구현 가능해야 함

**후보 개수**:
- 단순 문제: 3개
- 중간 복잡도: 4개
- 복잡한 문제: 5개

**생성 전략**:

#### 전략 A: 복잡도 기반
```
후보 1: 최소 기능 (MVP)
후보 2: 기본 기능 (Standard)
후보 3: 고급 기능 (Advanced)
후보 4: 완전 기능 (Full-featured)
```

#### 전략 B: 접근 방식 기반
```
후보 1: 기존 라이브러리 활용
후보 2: 순수 커스텀 구현
후보 3: 하이브리드 (라이브러리 + 커스텀)
```

#### 전략 C: 사용자 경험 기반
```
후보 1: 클릭 기반 인터랙션
후보 2: 드래그 기반 인터랙션
후보 3: 키보드 우선 인터랙션
후보 4: 음성/제스처 인터랙션
```

### 2단계: Thought Evaluation (사고 평가)

**목적**: 각 후보를 객관적 기준으로 점수화

**평가 프레임워크**: 5가지 축 (총 100점)

#### 1. 구현 복잡도 (30점)
- **30점**: 매우 단순 (HTML/CSS만, 라이브러리 불필요)
- **25점**: 단순 (간단한 상태 관리, 표준 패턴)
- **20점**: 중간 (외부 라이브러리 1-2개, 중간 상태 관리)
- **15점**: 복잡 (여러 라이브러리, 복잡한 상태)
- **10점**: 매우 복잡 (커스텀 엔진, 고급 알고리즘)

#### 2. 요구사항 충족도 (30점)
- **30점**: 완벽 충족 + 예상 니즈까지 고려
- **25점**: 완벽 충족
- **20점**: 기본 요구사항 충족
- **15점**: 부분 충족 (일부 기능 누락)
- **10점**: 최소 충족

#### 3. UX 품질 (20점)
- **20점**: 직관적 + 효율적 + 접근성 우수
- **17점**: 직관적 + 효율적
- **14점**: 직관적이지만 비효율적
- **11점**: 사용 가능하지만 불편
- **8점**: 매우 불편

#### 4. 유지보수성 (10점)
- **10점**: 단순 구조, 쉬운 변경
- **8점**: 표준 패턴, 적절한 추상화
- **6점**: 중간 복잡도
- **4점**: 복잡한 구조, 변경 어려움
- **2점**: 매우 복잡, 레거시화 우려

#### 5. 팀 역량 적합성 (10점)
- **10점**: 팀이 완벽히 숙련
- **8점**: 팀이 경험 보유
- **6점**: 학습 가능 (1-2주)
- **4점**: 학습 필요 (1개월)
- **2점**: 팀 역량 외

### 3단계: Selection (선택)

**선택 기준**:
- **기본 원칙**: 최고 점수 후보 선택
- **동점 시 우선순위**:
  1. 요구사항 충족도
  2. 구현 복잡도 (낮을수록 좋음)
  3. UX 품질
  4. 유지보수성
  5. 팀 역량

**선택 근거 작성**:
```markdown
**선택**: 해석 B
**점수**: 82/100 (확실함)
**근거**:
- UX와 요구사항 충족도가 가장 높음 (28+18=46점)
- 팀이 React DnD 라이브러리 경험 보유 (9점)
- 구현 복잡도가 수용 가능 범위 (20점)
- 유지보수성 우려는 있으나 문서화로 완화 가능 (7점)
```

### 4단계: Lookahead & Backtracking

#### Lookahead (전망)
**목적**: 선택 후 발생할 다음 의사결정 예측

**예측 항목**:
- 다음 결정: [구체적인 다음 선택]
- 예상 복잡도: [낮음/중간/높음]
- 리스크: [예상 문제점 목록]
- 의존성: [필요한 선행 작업]

**예시**:
```markdown
**Lookahead**:
- 다음 결정: 드래그 라이브러리 선택 (react-dnd vs react-beautiful-dnd)
- 예상 복잡도: 중간
- 리스크:
  * 모바일 터치 이벤트 지원 이슈
  * 성능 문제 (시간대 100개 이상 시)
  * 접근성 (키보드 네비게이션)
- 의존성: React 18+ 필요, TypeScript 설정
```

#### Backtrack Plan (대안 계획)
**목적**: 선택이 실패할 경우 복구 전략

**구성 요소**:
- **대안**: 2순위 해석
- **트리거 조건**: 언제 전환할 것인가
- **예상 손실**: 시간/비용 손실
- **복구 시간**: 대안으로 전환 소요 시간

**예시**:
```markdown
**Backtrack Plan**:
- 대안: 해석 A (단순 체크박스, 79점)
- 트리거 조건:
  * 구현 중 2일 이상 진행 없음
  * 성능 목표 미달 (렌더링 >500ms)
  * 모바일 터치 이슈 해결 불가
- 예상 손실: 이미 투입한 2-3일
- 복구 시간: 1일 (체크박스는 단순 구현)
```

## 프롬프트 복잡도에 따른 적용

### 단순 프롬프트 (< 100줄)
- 후보 개수: 2-3개
- 평가 간소화: 3가지 기준 (복잡도, 충족도, UX)
- Lookahead: 선택적

### 중간 프롬프트 (100-300줄)
- 후보 개수: 3-5개
- 평가: 표준 5가지 기준
- Lookahead: 필수
- Backtrack: 권장

### 복합 프롬프트 (300줄 이상)
- 후보 개수: 5-7개
- 평가: 5가지 + 추가 기준 (확장성, 보안 등)
- Lookahead: 필수 (2단계 예측)
- Backtrack: 필수 (1-2개 대안)

## 적용 사례

### 사례 1: UI 컴포넌트 선택
```markdown
**문제**: 시간대 선택 UI 구현

**후보 생성**:
- A: 체크박스 목록
- B: 드래그 범위 선택
- C: 캘린더 뷰
- D: 시작/종료 입력

**평가**: [점수 표]

**선택**: B (82점)

**Lookahead**: 라이브러리 선택, 모바일 대응

**Backtrack**: A (79점) - 2일 후에도 진행 없으면 전환
```

### 사례 2: 상태 관리 라이브러리
```markdown
**문제**: 전역 상태 관리 선택

**후보 생성**:
- A: Redux Toolkit
- B: Zustand
- C: Jotai
- D: Recoil
- E: MobX

**평가**: [점수 표]

**선택**: C (Jotai, 85점)

**Lookahead**:
- Redux 마이그레이션 비용 예측 (3-5일)
- 팀 학습 곡선 (1주)

**Backtrack**: B (Zustand, 83점) - 팀 학습 어려움 시
```

### 사례 3: API 디자인 패턴
```markdown
**문제**: GraphQL vs REST API

**후보 생성**:
- A: REST API
- B: GraphQL
- C: tRPC
- D: gRPC

**평가**: [점수 표]

**선택**: B (GraphQL, 78점)

**Lookahead**:
- 스키마 설계 복잡도
- N+1 쿼리 문제 대응
- 클라이언트 타입 생성

**Backtrack**: A (REST, 75점) - 팀이 GraphQL 학습 실패 시
```

## 품질 검증 체크리스트

### 후보 생성 품질
- [ ] 모든 후보가 실제 구현 가능한가?
- [ ] 다양한 복잡도 수준을 포함하는가?
- [ ] 각 후보가 명확히 구분되는가?
- [ ] 최소 3개 이상의 후보가 있는가?

### 평가 품질
- [ ] 점수가 객관적 기준에 근거하는가?
- [ ] 모든 후보를 동일한 기준으로 평가했는가?
- [ ] 점수 차이에 명확한 근거가 있는가?
- [ ] 팀/프로젝트 컨텍스트를 반영했는가?

### 선택 품질
- [ ] 선택 근거가 3줄 이상 구체적인가?
- [ ] 최고 점수 후보를 선택했는가?
- [ ] 트레이드오프를 명시했는가?

### Lookahead/Backtrack 품질
- [ ] 다음 의사결정이 구체적인가?
- [ ] 리스크가 현실적인가?
- [ ] Backtrack 조건이 측정 가능한가?
- [ ] 대안이 실행 가능한가?

---

> **핵심 원칙**: 직관이 아닌 평가 기준 기반 의사결정
> **적용 시점**: 요구사항 불명확 시, 여러 구현 방법 존재 시, 높은 리스크 결정 시
